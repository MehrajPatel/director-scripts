#
# Copyright (c) 2018-2019 Cloudera, Inc. All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
#
# Sample Cloudera Altus Director configuration file for simple setup in Azure
#
# This is a template for use in simple cluster setup for an Azure cluster.
#

#
# Required basic information
#

#
# Cluster name
#

name: simple-cluster

#
# The environment and deployment name will be generated by default based on the cluster
# name. Another cluster can be bootstrapped under the same deployment by specifying the
# existing environment and deployment name along with a new cluster name. If an existing
# environment is specified, then other information noted in this template should be
# omitted.
#
# environmentName: simple-cluster Environment
# deploymentName: simple-cluster Deployment

#
# The cloud provider: "azure" for Azure
#
providerType: azure

#
# The cluster type: basic, data_engineering, analytic_database, operational_database,
# or edh
#
clusterType: basic

#
# Azure configuration
#
# If an existing environment is specified above, this information is ignored
# and should be omitted.
#

#
# ID of Azure region to use. NOTE: region must support Premium Storage
# See: https://azure.microsoft.com/en-us/global-infrastructure/regions/
#
azureRegion: region_REPLACE_ME

#
# Azure Cloud Environment to use. Valid values are:
#   - azure
#   - azure-us-government
#   - azure-germany
#
# Default: azure
# azureCloudEnvironment: azure

#
# Azure Active Directory Subscription ID.
#
azureSubscriptionId: subscriptionId_REPLACE_ME

#
# Tenant ID (from AAD)
#
azureTenantId: tenantId_REPLACE_ME

#
# Azure Active Directory Application Client ID.
#
azureClientId: clientId_REPLACE_ME

#
# Client Secret
#
azureClientSecret: "clientSecret_REPLACE_ME"

#
# Resource Group for all VMs. The Resource Group you specify must exist within
# the region you selected.
# See: https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-overview#resource-groups
#
azureComputeResourceGroup: computeResourceGroup_REPLACE_ME

#
# The Resource Group for the Network Security Group for all VMs. The Resource
# Group you specify must exist within the region you selected.
# See: https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-overview#resource-groups
#
azureNetworkSecurityGroupResourceGroup: networkSecurityGroupResourceGroup_REPLACE_ME

#
# The Network Security Group for all VMs. It must be within the resource group
# named by azureNetworkSecurityGroupResourceGroup. NSG configuration allows you
# to limit access to the VM with firewall-like rules.
# See: https://docs.microsoft.com/en-us/azure/virtual-network/security-overview
#
azureNetworkSecurityGroup: networkSecurityGroupResourceGroup_REPLACE_ME

#
# The Resource Group for the Virtual Network for all VMs. The Resource Group you
# specify must exist within the region you selected and should be the same for
# all instances that will be used in the same cluster.
# See: https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-overview#resource-groups
#
azureVirtualNetworkResourceGroup: virtualNetworkResourceGroup_REPLACE_ME

#
# The Virtual Network for all VMs. It must be within the resource group named by
# azureVirtualNetworkResourceGroup and should be the same for all instances that
# will be used in the same cluster.
# See: https://docs.microsoft.com/en-us/azure/virtual-network/
#
azureVirtualNetwork: virtualNetwork_REPLACE_ME

#
# The name of the Subnet that will be used. It must be within the virtual
# network.
#
# Default: default
# azureSubnetName: default

#
# The DNS domain configured in your custom DNS server. Example values include:
# cdh-cluster.internal, cluster.your-company-name.com. The host FQDN is
# configured on each VM with the following format:
#       {instanceNamePrefix}-{truncated-UUID}.hostFqdnSuffix
#
azureHostFqdnSuffix: "hostFqdnSuffix_REPLACE_ME"

#
# Should each VM have a Public IP Address and DNS Label?  If Yes, each VM will
# have a publicly resolvable hostname with the following format:
#       {instanceNamePrefix}-{UUID}.{region}.cloudapp.azure.com
# Allowed values: Yes, No
#
azurePublicIP: Yes

#
# SSH credentials to use to connect to the VMs
#
# If an existing environment is specified above, this information is ignored
# and should be omitted.
#

#
# The username for SSH connections to VMs
#
sshUsername: azuser

#
# The private key for SSH connections to instances
#
# The value must be a string containing the private key file contents.
#
sshPrivateKey: """-----BEGIN RSA PRIVATE KEY-----
REPLACE-ME
-----END RSA PRIVATE KEY-----
"""

#
# Other SSH credentials properties supported:
#
# sshPort: 22
# sshPassword: password-REPLACE-ME
#

#
# Simple cluster setup configuration properties
#
# Most other configuration properties are decided for you, but some properties
# must be specified. Others are optional.
#

#
# REQUIRED: VM size for worker nodes (YARN node manager, HDFS datanode, etc.)
#
workerInstanceType: STANDARD_REPLACE_ME

#
# OPTIONAL: Tags to apply to all instances
#
#instanceTags {
#  purpose: proof-of-concept
#}

#
# OPTIONAL: Storage account type for worker VMs. Set to Premium_LRS to take
# full advantage of appropriate instance types.
#
# Supported: Premium_LRS, Standard_LRS
# Default: Standard_LRS
#
# azureWorkerStorageAccountType: Standard_LRS
#

#
# OPTIONAL: Image for all VMs
#
# If not specified, an image is selected based on the chosen operating system and
# cloud environment.
#
# NOTE: Automatic image selection is not available in:
# - azure-germany for centos7.4, centos7.5, or rhel7.5
#
# instanceImage: REPLACE-ME
#

#
# OPTIONAL: Prefix for all VM names
#
# Default: simple
#
# instanceNamePrefix: simple

#
# OPTIONAL: Operating system for all VMs. Must match with instanceImage
# if specified.
#
# Supported os images by azureCloudEnvironment -
#   azure:               centos6.7, centos6.8, centos7.2, centos7.4, centos7.5, rhel6.7, rhel6.8, rhel7.2, rhel7.4, rhel7.5
#   azure-us-government: centos6.7, centos6.8, centos7.2, centos7.4, centos7.5, rhel6.7, rhel6.8, rhel7.2, rhel7.4, rhel7.5
#   azure-germany:       centos6.7, centos6.8, centos7.2, rhel6.7, rhel6.8, rhel7.2, rhel7.4
# Default: centos7.5
#
# os: centos7.5

#
# OPTIONAL: Cloudera Manager version
#
# Default: matches the default for the version of Cloudera Altus Director
#
# cmVersion: "6.2"

#
# OPTIONAL: CDH version
#
# Default: matches the default for the version of Cloudera Altus Director
#
# cdhVersion: "6.2"

#
# OPTIONAL: Number of master nodes
#
# Default: 1
#
# masterCount: 1

#
# OPTIONAL: Number of worker nodes
#
# Default: 3
#
# workerCount: 3

#
# OPTIONAL: Minimum number of worker nodes
#
# Default: 3
#
# workerMinCount: 3

#
# OPTIONAL: Number of gateway nodes
#
# Default: 1
#
# gatewayCount: 1

#
# OPTIONAL: Minimum number of gateway nodes
#
# Default: 1
#
# gatewayMinCount: 1
